<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: #1f2937;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #6b7280;
            font-size: 18px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .card {
            background: white;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1f2937;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #374151;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
        }

        .symbol-options {
            margin-left: 20px;
            margin-top: 10px;
            padding: 10px;
            background-color: #f9fafb;
            border-radius: 6px;
        }

        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }

        input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }

        .range-display {
            text-align: center;
            font-weight: 500;
            color: #374151;
        }

        .generate-btn {
            width: 100%;
            padding: 12px;
            background-color: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .generate-btn:hover {
            background-color: #2563eb;
        }

        .result-section {
            margin-top: 20px;
        }

        .password-display {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            min-height: 200px;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .copy-btn {
            width: 100%;
            padding: 10px;
            background-color: #10b981;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            margin-top: 10px;
        }

        .copy-btn:hover {
            background-color: #059669;
        }

        .export-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .export-btn {
            padding: 10px;
            background-color: #6b7280;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            font-size: 14px;
        }

        .export-btn:hover {
            background-color: #4b5563;
        }

        .success-message {
            background-color: #d1fae5;
            color: #065f46;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ” ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
            <p class="subtitle">é«˜åº¦ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ« - ã‚»ã‚­ãƒ¥ã‚¢ã§ä½¿ã„ã‚„ã™ã„</p>
        </header>

        <div class="main-content">
            <div class="card">
                <h2 class="section-title">âš™ï¸ è¨­å®š</h2>
                
                <div class="form-group">
                    <label>ä½¿ç”¨æ–‡å­—</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="numbers" checked>
                            <label for="numbers">æ•°å­— (0-9)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="lowercase" checked>
                            <label for="lowercase">å°æ–‡å­— (a-z)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="uppercase" checked>
                            <label for="uppercase">å¤§æ–‡å­— (A-Z)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="symbols">
                            <label for="symbols">è¨˜å·ã‚’ä½¿ç”¨</label>
                        </div>
                    </div>
                    
                    <div id="symbolOptions" class="symbol-options" style="display: none;">
                        <label><strong>è¨˜å·ã®ç¨®é¡ã‚’é¸æŠ:</strong></label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="basicSymbols" checked>
                                <label for="basicSymbols">åŸºæœ¬è¨˜å· (!@#$%)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="brackets" checked>
                                <label for="brackets">æ‹¬å¼§ ()[]{}|</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="punctuation">
                                <label for="punctuation">å¥èª­ç‚¹ .,;:</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="mathSymbols">
                                <label for="mathSymbols">æ¼”ç®—å­ +-*/<></label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label><strong>æ—¥æœ¬èªæ–‡å­—:</strong></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="hiragana">
                            <label for="hiragana">ã²ã‚‰ãŒãª</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="katakana">
                            <label for="katakana">ã‚«ã‚¿ã‚«ãƒŠ</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="kanji">
                            <label for="kanji">æ¼¢å­— (åŸºæœ¬)</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="customChars">ã‚«ã‚¹ã‚¿ãƒ æ–‡å­—</label>
                    <input type="text" id="customChars" placeholder="è¿½åŠ ã—ãŸã„æ–‡å­—ã‚’å…¥åŠ›">
                </div>

                <div class="form-group">
                    <label for="passwordLength">æ–‡å­—æ•°</label>
                    <input type="range" id="passwordLength" min="4" max="128" value="16" oninput="updateLengthDisplay()">
                    <div class="range-display" id="lengthDisplay">16</div>
                </div>

                <div class="form-group">
                    <label for="batchCount">ç”Ÿæˆæ•°</label>
                    <input type="number" id="batchCount" min="1" max="1000" value="50">
                </div>

                <button class="generate-btn" onclick="generatePasswords()">ğŸ² ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ</button>
            </div>

            <div class="card">
                <h2 class="section-title">ğŸ¯ ç”Ÿæˆçµæœ</h2>
                
                <div id="resultSection" class="result-section" style="display: none;">
                    <div id="successMessage" class="success-message"></div>
                    
                    <label for="passwordDisplay">ç”Ÿæˆã•ã‚ŒãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¸€è¦§</label>
                    <textarea id="passwordDisplay" class="password-display" readonly></textarea>
                    
                    <button class="copy-btn" onclick="copyAllPasswords()">ğŸ“‹ ã™ã¹ã¦ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼</button>
                    
                    <div class="export-section">
                        <button class="export-btn" onclick="downloadTxt()">ğŸ“„ TXTãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                        <button class="export-btn" onclick="downloadCsv()">ğŸ“Š CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>Â© 2024 ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ | ã‚»ã‚­ãƒ¥ã‚¢ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«</p>
        </footer>
    </div>

    <script>
        // æ–‡å­—ã‚»ãƒƒãƒˆå®šç¾©
        const charSets = {
            numbers: '0123456789',
            lowercase: 'abcdefghijklmnopqrstuvwxyz',
            uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            basicSymbols: '!@#$%^&*',
            brackets: '()[]{}|',
            punctuation: '.,;:',
            mathSymbols: '+-*/<>=_~',
            hiragana: 'ã‚ã„ã†ãˆãŠã‹ããã‘ã“ã•ã—ã™ã›ããŸã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ã‚€ã‚ã‚‚ã‚„ã‚†ã‚ˆã‚‰ã‚Šã‚‹ã‚Œã‚ã‚ã‚’ã‚“',
            katakana: 'ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ²ãƒ³',
            kanji: 'ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹åç™¾åƒä¸‡å††å¹´æœˆæ—¥æ™‚åˆ†ç§’äººåå‰å¾Œå·¦å³ä¸Šä¸‹å¤§å°ä¸­é«˜ä½æ–°å¤å¥½æ‚ªç¾é†œ'
        };

        let generatedPasswords = [];

        // è¨˜å·ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¡¨ç¤º/éè¡¨ç¤º
        document.getElementById('symbols').addEventListener('change', function() {
            const symbolOptions = document.getElementById('symbolOptions');
            symbolOptions.style.display = this.checked ? 'block' : 'none';
        });

        // é•·ã•è¡¨ç¤ºã®æ›´æ–°
        function updateLengthDisplay() {
            const length = document.getElementById('passwordLength').value;
            document.getElementById('lengthDisplay').textContent = length;
        }

        // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ
        function generatePasswords() {
            const length = parseInt(document.getElementById('passwordLength').value);
            const count = parseInt(document.getElementById('batchCount').value);
            
            // æ–‡å­—ã‚»ãƒƒãƒˆã®æ§‹ç¯‰
            let charset = '';
            
            if (document.getElementById('numbers').checked) {
                charset += charSets.numbers;
            }
            if (document.getElementById('lowercase').checked) {
                charset += charSets.lowercase;
            }
            if (document.getElementById('uppercase').checked) {
                charset += charSets.uppercase;
            }
            if (document.getElementById('symbols').checked) {
                if (document.getElementById('basicSymbols').checked) {
                    charset += charSets.basicSymbols;
                }
                if (document.getElementById('brackets').checked) {
                    charset += charSets.brackets;
                }
                if (document.getElementById('punctuation').checked) {
                    charset += charSets.punctuation;
                }
                if (document.getElementById('mathSymbols').checked) {
                    charset += charSets.mathSymbols;
                }
            }
            if (document.getElementById('hiragana').checked) {
                charset += charSets.hiragana;
            }
            if (document.getElementById('katakana').checked) {
                charset += charSets.katakana;
            }
            if (document.getElementById('kanji').checked) {
                charset += charSets.kanji;
            }
            
            const customChars = document.getElementById('customChars').value;
            if (customChars) {
                charset += customChars;
            }
            
            // æ–‡å­—ã‚»ãƒƒãƒˆãŒç©ºã®å ´åˆ
            if (!charset) {
                alert('å°‘ãªãã¨ã‚‚1ã¤ã®æ–‡å­—ç¨®é¡ã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }
            
            // é‡è¤‡æ–‡å­—ã‚’é™¤å»
            charset = [...new Set(charset)].join('');
            
            // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ
            generatedPasswords = [];
            for (let i = 0; i < count; i++) {
                let password = '';
                for (let j = 0; j < length; j++) {
                    password += charset[Math.floor(Math.random() * charset.length)];
                }
                generatedPasswords.push(password);
            }
            
            // çµæœè¡¨ç¤º
            displayResults();
        }

        // çµæœè¡¨ç¤º
        function displayResults() {
            const resultSection = document.getElementById('resultSection');
            const successMessage = document.getElementById('successMessage');
            const passwordDisplay = document.getElementById('passwordDisplay');
            
            successMessage.textContent = `âœ… ${generatedPasswords.length}å€‹ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã—ãŸ`;
            passwordDisplay.value = generatedPasswords.join('\n');
            passwordDisplay.style.height = Math.min(300, generatedPasswords.length * 25 + 50) + 'px';
            
            resultSection.style.display = 'block';
        }

        // å…¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
        function copyAllPasswords() {
            const passwordDisplay = document.getElementById('passwordDisplay');
            passwordDisplay.select();
            document.execCommand('copy');
            
            alert('ã™ã¹ã¦ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
        }

        // TXTãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        function downloadTxt() {
            if (generatedPasswords.length === 0) {
                alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„');
                return;
            }
            
            const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
            const content = `# Generated Passwords - ${timestamp}\n# Total: ${generatedPasswords.length} passwords\n\n${generatedPasswords.map((pwd, i) => `${String(i + 1).padStart(3, ' ')}. ${pwd}`).join('\n')}`;
            
            downloadFile(content, `passwords_${timestamp}.txt`, 'text/plain');
        }

        // CSVãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        function downloadCsv() {
            if (generatedPasswords.length === 0) {
                alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„');
                return;
            }
            
            const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
            const header = 'No,Password,Length,Generated_At\n';
            const rows = generatedPasswords.map((pwd, i) => `${i + 1},"${pwd}",${pwd.length},"${timestamp}"`).join('\n');
            const content = header + rows;
            
            downloadFile(content, `passwords_${timestamp}.csv`, 'text/csv');
        }

        // ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        function downloadFile(content, filename, type) {
            const blob = new Blob([content], { type: type });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>